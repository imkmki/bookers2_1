<div class="d-flex align-items-start gap-4 mb-4">
  <% if @user.profile_image.attached? %>
    <%= image_tag @user.profile_image.variant(resize_to_fill: [100, 100]), class: "rounded-circle" %>
  <% else %>
    <%= image_tag "no_image.jpg", width: 100, height: 100, class: "rounded-circle" %>
  <% end %>

  <div>
    <h2>User info</h2>
    <p><strong>name</strong>
      <%= @user.name || "未入力" %></p>
    <p><strong>introduction</strong>
      <%= @user.introduction.presence || "未入力" %></p>

    <%= link_to "Edit Profile", edit_user_path(@user), class: "btn btn-outline-primary mt-3" %>
  </div>
</div>

<div class="row">
  <div class="col-md-4">
    <h4>New book</h4>
    <%= form_with(model: @book, local: true) do |f| %>
      <div class="mb-2">
        <%= f.label :title %>
        <%= f.text_field :title, class: "form-control" %>
      </div>
      <div class="mb-2">
        <%= f.label :Opinion %>
        <%= f.text_area :body, class: "form-control" %>
      </div>
      <%= f.submit "Create Book", class: "btn btn-success" %>
    <% end %>
  </div>
  
  <div class="col-md-8">
    <h4>Books</h4>
    <% @books.each do |book| %>
      <div class="border p-2 mb-2">
        <p><strong>Title：</strong><%= book.title %></p>
        <p><strong>Opinion</strong><%= book.body %></p>
      </div>
    <% end %>
  </div>
</div>